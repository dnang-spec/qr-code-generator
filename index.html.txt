<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR 코드 생성기</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useRef } = React;

        function QRCodeGenerator() {
            const [url, setUrl] = useState('');
            const [qrCode, setQrCode] = useState('');
            const canvasRef = useRef(null);

            const generateQRCode = () => {
                if (!url.trim()) {
                    alert('링크를 입력해주세요!');
                    return;
                }

                const qrApiUrl = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(url)}`;
                setQrCode(qrApiUrl);
            };

            const downloadQRCode = () => {
                if (!qrCode) {
                    alert('먼저 QR 코드를 생성해주세요!');
                    return;
                }

                const link = document.createElement('a');
                link.href = qrCode;
                link.download = 'qrcode.png';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter') {
                    generateQRCode();
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
                    <div className="max-w-2xl mx-auto">
                        <div className="bg-white rounded-2xl shadow-xl p-8">
                            <div className="text-center mb-8">
                                <h1 className="text-3xl font-bold text-gray-800 mb-2">QR 코드 생성기</h1>
                                <p className="text-gray-600">링크를 입력하면 QR 코드를 무제한으로 만들 수 있어요</p>
                            </div>

                            <div className="mb-6">
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    웹사이트 링크
                                </label>
                                <div className="flex gap-2">
                                    <input
                                        type="text"
                                        value={url}
                                        onChange={(e) => setUrl(e.target.value)}
                                        onKeyPress={handleKeyPress}
                                        placeholder="https://example.com"
                                        className="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"
                                    />
                                    <button
                                        onClick={generateQRCode}
                                        className="px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors"
                                    >
                                        생성
                                    </button>
                                </div>
                            </div>

                            {qrCode && (
                                <div className="text-center">
                                    <div className="bg-gray-50 rounded-xl p-8 mb-4 inline-block">
                                        <img 
                                            ref={canvasRef}
                                            src={qrCode} 
                                            alt="QR Code" 
                                            className="w-64 h-64 mx-auto"
                                        />
                                    </div>
                                    
                                    <button
                                        onClick={downloadQRCode}
                                        className="inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors"
                                    >
                                        <span>📥</span>
                                        다운로드
                                    </button>

                                    <div className="mt-4 p-4 bg-blue-50 rounded-lg">
                                        <p className="text-sm text-gray-700 break-all">
                                            <span className="font-medium">생성된 링크:</span> {url}
                                        </p>
                                    </div>
                                </div>
                            )}

                            <div className="mt-8 p-4 bg-indigo-50 rounded-lg">
                                <h3 className="font-semibold text-indigo-900 mb-2">💡 사용 팁</h3>
                                <ul className="text-sm text-indigo-800 space-y-1">
                                    <li>• 완전 무료로 무제한 생성 가능합니다</li>
                                    <li>• 생성된 QR 코드는 영구적으로 사용할 수 있어요</li>
                                    <li>• 고화질 PNG 파일로 다운로드됩니다</li>
                                    <li>• 모바일에서도 바로 사용 가능합니다</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<QRCodeGenerator />, document.getElementById('root'));
    </script>
</body>
</html>